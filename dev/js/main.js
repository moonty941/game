function newBoard(){tiles_flipped=0;var a="",b="";memory_array.memory_tile_shuffle();for(var c=0;c<memory_array.length;c++)a+='<div class="card-container" id="tile_'+c+'" onclick="memoryFlipTile(this,\''+memory_array[c]+'\')"><div class="front"></div><div class="back">'+memory_array[c]+"</div></div>",b+='<div class="card-container hover"><div class="front"></div><div class="back">'+memory_array[c]+"</div></div>";document.getElementById("memory_board").innerHTML=b,setTimeout(function(){document.getElementById("memory_board").innerHTML=a,timerStart()},3e3)}function memoryFlipTile(a,b){function c(){var a=document.getElementById(memory_tile_ids[0]),b=document.getElementById(memory_tile_ids[1]);a.className="card-container",b.className="card-container",memory_values=[],memory_tile_ids=[]}a.lastElementChild;if("card-container hover"!==a.className&&memory_values.length<2)if(a.className="card-container hover",0==memory_values.length)memory_values.push(b),memory_tile_ids.push(a.id);else if(1==memory_values.length)if(memory_values.push(b),memory_tile_ids.push(a.id),memory_values[0]==memory_values[1]){if(tiles_flipped+=2,memory_values=[],memory_tile_ids=[],tiles_flipped==memory_array.length){if(clearInterval(interval),alert("Ваш результат "+timer+" сек, нажмине ок, чтобы начать игру сначала"),(void 0==bestResult||+bestResult>+timer)&&(bestResult=timer,setCookie("result",bestResult,settingsCookie),bestRecords=+getBestResult(),action=bestRecords>0?"update":"set",bestRecords>+bestResult||0==bestRecords)){var d=prompt("Новый рекорд!!!! "+bestResult+" Введите Ваше имя");if(null!==d&&""!==d){var e=new XMLHttpRequest,f="action="+encodeURIComponent(action)+"&name="+encodeURIComponent(d)+"&result="+encodeURIComponent(bestResult)+"&token="+encodeURIComponent(TOKEN);e.open("POST",window.location.href+"database.php?",!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){4==this.readyState&&location.reload()},e.send(f)}}document.getElementById("best_result").innerHTML="Лучший результат: "+bestResult,reset()}}else setTimeout(c,700)}function timerStart(){interval=setInterval(function(){timer+=1,timerMenu.innerHTML="Таймер: "+timer+" сек"},1e3)}function start(){0===timer&&newBoard()}function reset(){clearInterval(interval),timerMenu.innerHTML="Таймер: 0 сек",timer=0,memory_values=[],memory_tile_ids=[],title_flipped=0,document.getElementById("memory_board").innerHTML=""}function setCookie(a,b,c){c=c||{};var d=c.expires;if("number"==typeof d&&d){var e=new Date;e.setTime(e.getTime()+1e3*d),d=c.expires=e}d&&d.toUTCString&&(c.expires=d.toUTCString()),b=encodeURIComponent(b);var f=a+"="+b;for(var g in c){f+="; "+g;var h=c[g];h!==!0&&(f+="="+h)}document.cookie=f}function deleteCookie(a){setCookie(a,"",{expires:-1})}function getCookie(a){var b=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return b?decodeURIComponent(b[1]):void 0}function resetResult(){bestRecords=+getBestResult(),action=bestRecords>0?"update":"set",bestResult=void 0,deleteCookie("result"),document.getElementById("best_result").innerHTML="Лучший результат: нет"}function getBestResult(){var a,b="action="+encodeURIComponent("get_result")+"&token="+encodeURIComponent(TOKEN),c=new XMLHttpRequest;return c.open("POST",window.location.href+"database.php?",!1),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.onreadystatechange=function(){4==this.readyState&&(a=this.responseText)},c.send(b),a}var memory_array=["A","A","B","B","C","C","D","D","E","E","F","F","G","G","H","H","I","I","J","J"],memory_values=[],memory_tile_ids=[],title_flipped=0,bestResult,bestRecords,action;void 0!==getCookie("result")&&(bestResult=getCookie("result"),document.getElementById("best_result").innerHTML="Лучший результат: "+bestResult);var settingsCookie={expires:31536e4};Array.prototype.memory_tile_shuffle=function(){for(var a,b,c=this.length;--c>0;)a=Math.floor(Math.random()*(c+1)),b=this[a],this[a]=this[c],this[c]=b};var timer=0,timerMenu=document.getElementById("timer");timerMenu.innerHTML="Таймер: "+timer+" сек";var interval;